# 요구사항 분석문서 - 임성준

> 작성자

## 메인페이지 검색 요구사항

> client-search-01

- **검색의 키워드 기본값**은 `빈 문자열`로 설정한다.
- **검색의 예약 일정 날짜 기본값**은 `오늘 날짜 기준 1박`으로 설정한다.
- **검색의 인원수 기본값**은 `2명`으로 설정한다.
- **검색된 키워드**를 `ACCOMMODATION_TB`의 `ACCOM_ADDR` 혹은 `ACCOM_NAME` 의 값에 포함되는지로 조건을 설정한다.
- 캘린더 라이브러리를 사용하여 날짜를 선택할 수 있고 `X박 Y일 값을 계산해서 날짜와 함께 버튼 텍스트로 설정한다.`
- `이때 검색한 데이터 정보는 상태관리 라이브러리를 통해 전역적으로 관리한다.`

## 내 예약 정보 요구사항

> client-myreserve-01 ~ client-myreserve-04

- **내 예약 정보**는 **최근 날짜 기준**으로 `10개의 항목씩 출력`하고 **초과데이터**는 `페이징 처리`한다.
- **해당 항목을 클릭 시** `해당 숙박시설 상세페이지로 이동한다.`
- **예약 취소 버튼**은 예약 상태에 따라 `활성화/비활성화` 처리한다.
- 예약 취소 요청 시 확인 알림창을 띄우도 알림창의 `예약취소` 버튼을 클릭 후 `예약취소요청처리`를 한다.

#### 상태

| 상태                        |  텍스트  | 버튼 상태 | 숙박업소명 우측 텍스트   |
| :-------------------------- | :------: | :-------: | :----------------------- |
| 기본 상태                   | 예약취소 |  활성화   |                          |
| 취소요청중 상태             | 요청취소 |  활성화   | 예약 취소 요청 처리중... |
| 취소요청처리완료 상태       | 취소완료 | 비활성화  | 예약취소완료             |
| 요청없이 예약날짜 지난 상태 | 이용완료 | 비활성화  | 후기 작성하고 혜택받기   |

## 관리자 예약

> admin-reverse-01 ~ admin-reverse-04-03

- **예약 정보**는 **최근 날짜 기준**으로 `10개의 항목씩 출력`하고 **초과데이터**는 `페이징 처리`한다.
- **해당 항목을 클릭 시** `해당 숙박시설 상세페이지로 이동한다.`
- 검색 키워드는 `REVERSE_TB`의 `RES_EMAIL_ID` 혹은 `RES_PHONE`의 값에 포함되는지로 조건을 설정한다.
- 조회된 데이터가 없을 시 `'조회된 데이터가 없습니다.'`라는 문구의 텍스트를 출력한다.
- **예약 취소 버튼**은 예약 상태에 따라 `활성화/비활성화` 처리한다.
- 예약 취소 시 확인 알림창을 띄우도 알림창의 `예약취소` 버튼을 클릭 후 `예약취소처리`를 한다.

#### 상태

| 상태                        |  텍스트  | 버튼상태 |
| :-------------------------- | :------: | :------: |
| 기본 상태                   | 예약취소 | 비활성화 |
| 취소요청 상태               | 예약취소 |  활성화  |
| 취소요청완료 상태           | 취소완료 | 비활성화 |
| 요청없이 예약날짜 지난 상태 | 이용완료 | 비활성화 |

> 비회원은 비회원예약조회에서 본인 예약내역을 조회 후 예약 취소 요청을 보낸다.

```
사용자의 요청 없이 관리자가 예약 취소를 할 경우 책임 문제가 발생할 수 있다.
```

## 예약/결제

> client-reserve-01 ~ client-reverse-04-02

- 예약정보 : 숙박업소명, 숙박업소이미지, 객실명, 일정, 기준인원, 객실가격
- 일정은 상태관리 라이브러리를 통해 전역적으로 저장되어 있는 값을 출력한다.
- 이메일인증, 예약자 정보(예약자명, 예약자전화번호, 쿠폰)를 입력받는다.
  - 인증메일에 있는 인증코드와 입력한 인증코드가 동일할 경우 인증 완료처리한다.
  - 쿠폰 등록 시 쿠폰의 값에 따라 총 결제 금액에서 차감한다.
- 이메일인증이 완료된 후에 예약 결제 버튼이 활성화되도록 처리한다.

#### 최종 예약 정보

| 분류 | 데이터                                     |
| :--: | :----------------------------------------- |
| 회원 | 예약자이메일, 예약자명, 예약자전화번호     |
| 객실 | 객실번호, 일정(체크인/아웃 날짜), 기준인원 |

> 예약상태는 COMPLETED, 예약생성일은 오늘날짜

- 결제 완료 시 영수증 페이지로 이동한다.
  - 영수증 페이지에서 확인 버튼 클릭 시 메인 페이지로 이동한다.
