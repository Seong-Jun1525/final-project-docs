# 기능정의서

> 작성자 [임성준](https://www.github.com/Seong-Jun1525)

## 파트분배

|      파트      |     담당자     | 담당 기능                                                                                                                                                 |
| :------------: | :------------: | :-------------------------------------------------------------------------------------------------------------------------------------------------------- |
|   회원 기능    | 김규형, 장원일 | 로그인<br/>소셜 로그인<br/>회원가입<br/>레벨/쿠폰 시스템<br/>1:1 문의 시스템<br/>회원 레벨 시스템<br/>                                                    |
| 숙소 예약/결제 | 임성준, 이윤서 | 메인페이지<br />공공데이터(공공 숙박업체)<br/>지도API 숙소 위치 표시[, 테마별 추천, 편의시설]<br/>실시간 예약/결제 시스템<br/>쿠폰 사용 처리<br/>예약취소 |
| 후기/기타 기능 |     윤석준     | 후기 작성<br/>첨부파일<br/>공개/비공개<br/>별점/평점<br/>날씨 API 연동<br/> 챌린지 기능<br/>웹 필터처리                                                   |

## 전역 메뉴

| 기능코드         |       구분       |      기능       | 기능 설명                                  | 세부 기능                                                                                   | 기타                                                                              |
| :--------------- | :--------------: | :-------------: | :----------------------------------------- | :------------------------------------------------------------------------------------------ | :-------------------------------------------------------------------------------- |
| client-gnb-01    |     숙박업소     |  검색창 포커스  | 검색창의 지역 설정 태그에 포커스를 맞춘다. |                                                                                             |                                                                                   |
| client-gnb-02    |   사용자, 회원   |   페이지 이동   | 사용자에 대한 메뉴                         |                                                                                             |                                                                                   |
| client-gnb-02-01 |      사용자      |                 |                                            | 챌린지 클릭 시 로그인 페이지로 이동한다.                                                    | 회원만 이용 가능한 메뉴이다.<br/>회원가입 유도를 위해 모든 사용자에게 노출시킨다. |
| client-gnb-02-02 |   사용자, 예약   |                 |                                            | 비회원예약조회 클릭 시 비회원예약조회 페이지로 이동한다.                                    |                                                                                   |
| client-gnb-02-03 |   사용자, 채팅   |                 |                                            | 예약 건이 있고 해당 예약 건이 `이용대기중`인 상태일 경우 관리자 1:1 문의 페이지로 이동한다. | 그 외에는 로그인 페이지로 이동한다.                                               |
| client-gnb-02-03 | 사용자, 장바구니 |                 |                                            | 장바구니 클릭 시 로그인 페이지로 이동한다.                                                  | 회원이 아닌 사용자는 장바구니를 이용할 수 없다.                                   |
| client-gnb-03    |       회원       |                 | 회원에 대한 메뉴                           |                                                                                             |                                                                                   |
| client-gnb-03-01 |   회원, 챌린지   |                 |                                            | 챌린지 클릭 시 마이페이지로 이동한다.                                                       |                                                                                   |
| client-gnb-03-02 |    회원, 예약    |                 |                                            | 비회원예약조회 버튼을 숨긴다.                                                               | 로그인을 하지 않은 사용자일 경우만 표시한다.                                      |
| client-gnb-03-03 |    회원, 채팅    |                 |                                            | 관리자 1:1 문의 페이지로 이동한다.                                                          |                                                                                   |
| client-gnb-02-03 |  회원, 장바구니  |                 |                                            | 장바구니 클릭 시 장바구니 페이지로 이동한다.                                                |                                                                                   |
| client-gnb-04    |       회원       | 로그인/로그아웃 |                                            |                                                                                             |                                                                                   |
| client-gnb-04-01 |                  |                 | 로그인 버튼일 경우                         | 로그인 페이지로 이동한다.                                                                   |                                                                                   |
| client-gnb-04-02 |                  |                 | 로그인을 했을 경우                         | 로그아웃 처리를 하도록 한다.                                                                |                                                                                   |

## 검색 기능

| 기능코드            | 구분 |   기능   | 기능 설명                           | 세부 기능                                                                              | 기타                                             |
| :------------------ | :--: | :------: | :---------------------------------- | :------------------------------------------------------------------------------------- | :----------------------------------------------- |
| client-search-01    | 숙소 |   검색   | 조건에 부합한 정보 기반 페이지 이동 | 예약 일정 날짜는 오늘날짜 기준 1박으로 설정한다.                                       |                                                  |
| client-search-01-01 |      |          |                                     | 지역명으로 검색 시 해당 지역의 숙박업소 정보 목록 페이지로 이동한다.                   | 지역정보를 불러와서 지역을 선택할 수 있도록한다. |
| client-search-01-02 |      |          |                                     | 숙박업소명 키워드로 검색 시 해당 키워드가 포함된 숙박업소 정보 목록 페이지로 이동한다. |                                                  |
| client-search-02    |      | 날짜선택 | 캘린더를 활용하여 날짜를 선택한다.  |                                                                                        |                                                  |

## 본문

| 기능코드              | 구분 |   기능   | 기능 설명                 | 세부 기능                                    | 기타 |
| :-------------------- | :--: | :------: | :------------------------ | :------------------------------------------- | :--- |
| client-main-acc-01    | 숙소 | 정보조회 | 조건에 따른 인기숙소 조회 |                                              |      |
| client-main-acc-01-01 |      |          |                           | 평점 높은 숙소 TOP5 조회 후 화면에 출력한다. |      |
| client-main-acc-01-02 |      |          |                           | 이번 달의 평점 높은 순의 숙소 TOP5           |      |

---

## 회원가입

| 기능코드           |  구분  |      기능       | 기능 설명                                                                        | 세부 기능                                                                                                             | 기타                                                                        |
| :----------------- | :----: | :-------------: | :------------------------------------------------------------------------------- | :-------------------------------------------------------------------------------------------------------------------- | :-------------------------------------------------------------------------- |
| client-m-reg-01    | 사용자 |   페이지 이동   | 회원가입 페이지로 이동한다.                                                      |                                                                                                                       |                                                                             |
| client-m-reg-02    |        | 이메일 중복체크 | 회원 테이블에서 중복된 이메일이 있는지 확인하여 없을 경우 검사통과로 처리한다.   |                                                                                                                       |                                                                             |
| client-m-reg-02-01 |        |                 |                                                                                  | 성공 시 `중복체크` 버튼 `비활성화` 처리, `'사용가능한 이메일입니다.'` 문구를 토스트 형식으로 출력한다.                |                                                                             |
| client-m-reg-02-02 |        |                 |                                                                                  | 실패 시 `'이미 사용중인 이메일입니다.'` 문구를 토스트 형식으로 출력한다.                                              |                                                                             |
| client-m-reg-03    |        |  비밀번호 확인  | 비밀번호 입력란 값과 비밀번호 재확인 입력란 값이 같을 경우 검사통과로 처리한다.  |                                                                                                                       |                                                                             |
| client-m-reg-03-01 |        |                 |                                                                                  | 일치할 경우 `'비밀번호가 일치합니다.'` 문구를 출력한다.                                                               |                                                                             |
| client-m-reg-03-02 |        |                 |                                                                                  | 일치하지 않을 경우 `'비밀번호가 일치하지 않습니다.'` 문구를 출력한다.                                                 | 일치 하기 전까지는 계속 다르므로 해당 문구를 기본적으로 출력한다.           |
| client-m-reg-04    |        |   이메일 인증   | 인증 코드가 포함된 인증 메일을 전송하여 코드가 일치할 경우 검사 통과로 처리한다. |                                                                                                                       | `SHA256` 라이브러리 사용                                                    |
| client-m-reg-04-01 |        |                 |                                                                                  | 인증 코드가 일치할 경우 `이메일 인증` 버튼 텍스트를 `인증성공`으로 변경하고 비활성화 처리한다.                        |                                                                             |
| client-m-reg-04-02 |        |                 |                                                                                  | 인증 코드가 일치하지 않을 경우 `'이메일 인증을 실패했습니다.'` 문구를 출력하고 `이메일 재인증`으로 텍스트를 변경한다. |                                                                             |
| client-m-reg-05    |        |    전화번호     | 전화번호 입력 시 자동으로 `-`이 들어가도록 처리한다.                             |                                                                                                                       |                                                                             |
| client-m-reg-06    |        | 닉네임 중복체크 | 회원테이블에서 중복된 닉네임이 있는지 확인하여 없을 경우 검사통과로 처리한다.    |                                                                                                                       |                                                                             |
| client-m-reg-06-01 |        |                 |                                                                                  | 성공 시 `중복체크` 버튼 `비활성화` 처리, `'사용가능한 닉네임입니다.'` 문구를 토스트 형식으로 출력한다.                |                                                                             |
| client-m-reg-06-02 |        |                 |                                                                                  | 실패 시 `'이미 사용중인 닉네임입니다.'` 문구를 토스트 형식으로 출력한다.                                              |                                                                             |
| client-m-reg-07    |        |    회원가입     |                                                                                  |                                                                                                                       |                                                                             |
| client-m-reg-07-01 |        |                 | 닉네임을 작성하지 않았을 경우 기본 값으로 등록한다.                              | 기본값은 랜덤닉네임 생성 기능을 통해 생성한다.                                                                        | 예시 : xx하고yy한zz, xx, yy한zz, tt살zz 등                                  |
| client-m-reg-07-02 |        |                 | 생년월일을 작성하지 않았을 경우 기본 값으로 등록한다.                            | 기본값은 `NULL`이다.                                                                                                  |                                                                             |
| client-m-reg-07-03 |        |                 | 입력된 회원 데이터를 저장한다.                                                   | 필수항목 값이 모두 채워졌을 경우 회원가입 버튼 활성화                                                                 | `필수`<br/>이메일, 비밀번호, 전화번호, 주소<br/>`선택`<br/>닉네임, 생년월일 |

## 로그인

| 기능코드            |     구분     |    기능    | 기능 설명                                                        | 세부 기능                                                                  | 기타 |
| :------------------ | :----------: | :--------: | :--------------------------------------------------------------- | :------------------------------------------------------------------------- | :--: |
| client-signin-01    |     회원     | 일반로그인 | 사용자 이메일, 비밀번호를 통해 로그인이 가능하다.                |                                                                            |      |
| client-signin-02    | 사용자, 회원 | 소셜로그인 | 카카오, 구글, 네이버 API를 활용하여 소셜로그인이 가능하도록한다. |                                                                            |      |
| client-signin-02-01 |              |            |                                                                  | 첫 1회 로그인 시 API를 통해 얻은 사용자 정보는 자동으로 회원가입 처리한다. |      |
| client-signin-02-02 |              |            |                                                                  | 첫 1회 로그인이 아닐 시 해당 API를 활용해 로그인 처리한다.                 |      |

## 비밀번호 재설정

| 기능코드              | 구분 |     기능      | 기능 설명                                                                        | 세부 기능                                                                                                             | 기타                                                              |
| :-------------------- | :--: | :-----------: | :------------------------------------------------------------------------------- | :-------------------------------------------------------------------------------------------------------------------- | :---------------------------------------------------------------- |
| client-password-01    | 회원 |  페이지 이동  | 비밀번호 설정 페이지로 이동한다.                                                 |                                                                                                                       |                                                                   |
| client-password-02    |      |  이메일 인증  | 인증 코드가 포함된 인증 메일을 전송하여 코드가 일치할 경우 검사 통과로 처리한다. |                                                                                                                       | `SHA256` 라이브러리 사용                                          |
| client-password-02-01 |      |               |                                                                                  | 인증 코드가 일치할 경우 `이메일 인증` 버튼 텍스트를 `인증성공`으로 변경하고 비활성화 처리한다.                        |                                                                   |
| client-password-02-02 |      |               |                                                                                  | 인증 코드가 일치하지 않을 경우 `'이메일 인증을 실패했습니다.'` 문구를 출력하고 `이메일 재인증`으로 텍스트를 변경한다. |                                                                   |
| client-password-03    |      | 비밀번호 확인 | 비밀번호 입력란 값과 비밀번호 재확인 입력란 값이 같을 경우 검사통과로 처리한다.  |                                                                                                                       |                                                                   |
| client-password-03-01 |      |               |                                                                                  | 일치할 경우 `'비밀번호가 일치합니다.'` 문구를 출력한다.                                                               |                                                                   |
| client-password-03-02 |      |               |                                                                                  | 일치하지 않을 경우 `'비밀번호가 일치하지 않습니다.'` 문구를 출력한다.                                                 | 일치 하기 전까지는 계속 다르므로 해당 문구를 기본적으로 출력한다. |
| client-password-04    |      | 비밀번호 변경 | 비밀번호 변경 버튼 클릭 시 처리한다.                                             | 해당 이메일을 조건으로 회원 정보를 찾고 비밀번호를 수정한다.                                                          |                                                                   |

---

## 회원 정보 수정

| 기능코드         | 구분 |   기능   | 기능설명                                                                                                 | 세부기능                                                               | 기타 |
| :--------------- | :--: | :------: | :------------------------------------------------------------------------------------------------------- | :--------------------------------------------------------------------- | :--- |
| client-myinfo-01 | 회원 | 정보조회 | 가입 시 입력한 회원 정보를 조회하여 화면에 출력한다.                                                     | 이메일, 닉네임, 레벨                                                   |      |
| client-myinfo-02 |      |   수정   | 이메일, 비밀번호, 전화번호, 닉네임, 생년월일, 주소 값을 수정할 수 있도록 한다.                           | 이메일 정보 수정 시 새 이메일로 인증 해야한다.                         |      |
| client-myinfo-03 |      |   탈퇴   | 비밀번호 입력 후 일치 시 회원 정보의 상태를 비활성화 처리와 비활성화 날짜 데이터를 업데이트 하도록 한다. | 비활성화 처리 날짜 기준 30일 초과 시 자동 데이터 삭제 처리되도록 한다. |      |

## 내 쿠폰 정보

| 기능코드         |    구분    |    기능     | 기능설명                                                            | 세부기능                                                     | 기타                                                                             |
| :--------------- | :--------: | :---------: | :------------------------------------------------------------------ | :----------------------------------------------------------- | :------------------------------------------------------------------------------- |
| client-coupon-01 | 회원, 쿠폰 |  정보조회   | 해당 회원의 보유 쿠폰 정보를 최근 날짜 기준으로 10 단위로 조회한다. | 초과 데이터는 페이징 처리한다.                               |                                                                                  |
| client-coupon-02 |            | 페이지 이동 | `쿠폰 사용` 버튼을 통해서 숙박업소 목록 페이지로 이동한다.          | 숙박업소 목록 페이지로 이동할 것인지 묻는 알림창을 출력한다. | 숙박업소 목록 조회의 지역 조건은 회원의 주소 지역이 아닌 지역으로 랜덤 설정한다. |

## 내 예약 정보

| 기능코드               |    구분    |           기능            | 기능설명                                                                                  | 세부기능                                                                            | 기타 |
| :--------------------- | :--------: | :-----------------------: | :---------------------------------------------------------------------------------------- | :---------------------------------------------------------------------------------- | :--- |
| client-myreserve-01    | 회원, 예약 |         정보조회          | 해당 회원의 예약내역 정보를 최근 날짜 기준으로 10 단위로 조회한다.                        |                                                                                     |      |
| client-myreserve-01-01 |            |                           |                                                                                           | 초과 데이터는 페이징 처리한다.                                                      |      |
| client-myreserve-01-02 |            |                           |                                                                                           | 특정 내역 클릭 시 해당 내역의 숙소 상세 화면으로 이동한다.                          |      |
| client-myreserve-02    |            |         예약취소          | 예약 취소 버튼 클릭 시 관리자에게 예약 취소 요청을 보낸다.                                | 예약 상태에 따라 버튼의 활성화/비활성화 처리를 한다.                                |      |
| client-myreserve-02-01 |            | 예약취소버튼<br/>상태처리 |                                                                                           |                                                                                     |      |
| client-myreserve-02-02 |            |                           | 기본 상태일 경우<br/>텍스트 : `예약취소`<br/>버튼상태 : `활성화`                          |                                                                                     |      |
| client-myreserve-02-03 |            |                           | 취소 요청 상태일 경우<br/>텍스트 : `요청취소`<br/>버튼상태 : `활성화`                     | 숙박업체명 우측에 `예약 취소 요청 처리중...` 텍스트를 출력하도록 한다.              |      |
| client-myreserve-02-04 |            |                           | 취소 요청 처리 완료 상태일 경우<br/>텍스트 : `취소완료`<br/>버튼상태 : `비활성화`         | 숙박업체명 우측에 `예약취소완료` 텍스트를 출력하도록 한다.                          |      |
| client-myreserve-02-05 |            |                           | 취소를 하지 않고 예약날짜가 지났을 경우<br/>텍스트 : `이용완료`<br/>버튼상태 : `비활성화` | 숙박업체명 우측에 `후기 작성하고 혜택받기` 텍스트를 출력하도록 한다.                |      |
| client-myreview-04     |            |        페이지 이동        | 각 항목 별 이용 후기 등록 버튼을 클릭 시 이용 후기 페이지로 이동한다.                     |                                                                                     |      |
| client-myreview-04-01  |            |                           |                                                                                           | 해당 숙박업소 예약 정보를 전달한다.                                                 |      |
| client-myreview-04-02  |            |                           |                                                                                           | 예약 상태가 이용완료 상태이고 이용완료 일 기준 7일 이내일 경우만 버튼을 활성화한다. |      |

## 내 일지 작성

| 기능코드               |    구분    |    기능     | 기능설명                                              | 세부기능                       | 기타                                       |
| :--------------------- | :--------: | :---------: | :---------------------------------------------------- | :----------------------------- | :----------------------------------------- |
| client-daily-log-01    | 회원, 일지 | 페이지 이동 | 해당 메뉴 클릭 시 내 일지 목록 페이지로 이동한다      |                                |                                            |
| client-daily-log-02    |            |  정보조회   | 내 일지 정보를 최근 날짜 기준으로 10 단위로 조회한다. |                                |                                            |
| client-daily-log-02-01 |            |             |                                                       | 초과 데이터는 페이징 처리한다. |                                            |
| client-daily-log-03    |            |  상세보기   | 내 일지 상세 정보를 모달로 출력한다.                  |                                |                                            |
| client-daily-log-04    |            |  일지등록   | 제목, 내용을 작성 후 일지를 등록할 수 있도록 한다.    |                                | 일지번호, 일지제목, 내용, 작성자, 작성날짜 |
| client-daily-log-05    |            |  일지수정   | 제목, 내용을 수정 후 일지를 재등록할 수 있도록 한다.  |                                |                                            |
| client-daily-log-06    |            |  일지삭제   | 해당 일지를 삭제처리한다.                             |                                |                                            |

## 장바구니

| 기능코드         |      구분      |      기능      | 기능설명                                                      | 세부기능                                                                       | 기타                                                                  |
| :--------------- | :------------: | :------------: | :------------------------------------------------------------ | :----------------------------------------------------------------------------- | :-------------------------------------------------------------------- |
| client-mycart-01 | 회원, 장바구니 |    정보조회    | 회원의 장바구니에 등록한 상품의 목록을 조회한다.              | 화면에 표시할 일정 개수를 초과한 상품 목록은 스크롤을 내렸을 때 추가 조회한다. | 무한 스크롤 페이징 처리                                               |
| client-mycart-02 |    숙박업소    |  페이지 이동   | 항목 선택 시 해당 숙박업소 상세 페이지로 이동한다.            |                                                                                | 개발 중 지역 상태 값이 필요할 경우 해당 숙박업소 지역명으로 설정한다. |
| client-mycart-03 |                | 예약 항목 선택 | 장바구니에 등록한 상품을 전체 선택 또는 개별 선택할 수 있다.  | 선택한 상품은 선택 취소할 수 있다.                                             |                                                                       |
| client-mycart-04 |                |  페이지 이동   | 선택된 숙박업소 정보를 상태에 저장 후 예약 페이지로 이동한다. |                                                                                |                                                                       |

## 관리자 1:1 문의

| 기능코드         |    구분    |    기능     | 기능설명                                                                | 세부기능                                                  | 기타                            |
| :--------------- | :--------: | :---------: | :---------------------------------------------------------------------- | :-------------------------------------------------------- | :------------------------------ |
| client-mychat-01 | 회원, 채팅 |  정보조회   | 해당 회원이 진행 중인 채팅 정보를 조회한다.                             |                                                           | `진행 중인 채팅은 오직 하나다.` |
| client-mychat-02 |            | 페이지 이동 | 문의 카테고리 선택 후 `문의하기` 버튼을 클릭 시 채팅 페이지로 이동한다. | 진행 중인 채팅이 있을 경우 해당 버튼은 비활성화 처리한다. |                                 |

---

## 챌린지

| 기능코드               |       구분       |       기능       | 기능설명                                                 | 세부기능                                                                                     | 기타       |
| :--------------------- | :--------------: | :--------------: | :------------------------------------------------------- | :------------------------------------------------------------------------------------------- | :--------- |
| client-challenge-01    |      챌린지      |   페이지 이동    | 회원의 챌린지 목록 페이지로 이동한다.                    |                                                                                              |            |
| client-challenge-02-01 | 챌린지, 이용후기 |  이용후기 조회   | 조회된 데이터를 화면에 출력한다.                         |                                                                                              |            |
| client-challenge-02-02 |                  | 혜택 버튼 활성화 | 리뷰 평점 5점 등록 3회 시 버튼을 활성화한다.             | 버튼 클릭 시 1만원권 쿠폰 지급 받기 알림창 출력 후 받기 시 버튼을 비활성화 처리한다.         |            |
| client-challenge-03-01 |   챌린지, 지역   |  예약내역 조회   | 이용완료 상태인 데이터를 조회 후 갯수를 화면에 출력한다. |                                                                                              |            |
| client-challenge-03-02 |                  | 혜택 버튼 활성화 | 3개의 지역 이상일 시 버튼을 활성화한다.                  | 버튼 클릭 시 2만원권 쿠폰 지급 받기 알림창 출력 후 받기 시 버튼을 비활성화 처리한다.         |            |
| client-challenge-02-03 |   챌린지, 예약   |  예약내역 조회   | 이용완료 상태인 데이터를 조회 후 갯수를 화면에 출력한다. |                                                                                              |            |
| client-challenge-02-03 |                  | 혜택 버튼 활성화 | 서로 다른 3개의 숙박업소 예약 시 버튼을 활성화한다.      | 버튼 클릭 시 5만원 쿠폰 지급 받기 알림창 출력 후 받기 시 버튼을 비활성화 처리한다.           |            |
| client-challenge-02-04 |   챌린지, 회원   |  회원정보 조회   | 회원의 레벨 데이터를 조회 후 화면에 출력한다.            |                                                                                              |            |
| client-challenge-02-04 |                  | 혜택 버튼 활성화 | 10 단위로 레벨 달성 시 버튼을 활성화한다.                | 버튼 클릭 시 레벨x1000 금액권 쿠폰 지급받기 알림창 출력 후 받기 시 버튼을 비활성화 처리한다. | 최대 5만원 |

## 비회원예약조회 기능

| 기능코드           |  구분  |    기능     | 기능설명                                                                  | 세부기능                                                                                       | 기타                                                                                                                    |
| ------------------ | :----: | :---------: | :------------------------------------------------------------------------ | :--------------------------------------------------------------------------------------------- | :---------------------------------------------------------------------------------------------------------------------- |
| client-ginfo-01    | 사용자 |  예약 조회  | 예약코드와 이메일로 예약내역을 조회할 수 있도록 한다.                     | 예약 상태가 `이용대기중`인 정보만 조회한다.<br/>이메일인증을 해야지 조회가 가능하도록한다.     | 예약 정보 영역 안에 `예약문의하기` 링크를 삽입한다.<br/>아무 값이나 입력해서 조회되는 것을 막기 위해 인증을 받도록한다. |
| client-ginfo-02    |        | 페이지 이동 | 링크 클릭 시 채팅 페이지로 이동한다.                                      | 이메일 인증된 후에만 이동할 수 있도록 한다. 이메일 인증 알림창을 출력한다.                     |                                                                                                                         |
| client-ginfo-03    |        | 이메일 인증 | 인증 코드가 포함된 메일을 전송하여 코드가 일치할 경우 검사 통과 처리한다. |                                                                                                |                                                                                                                         |
| client-ginfo-03-01 |        |             |                                                                           | 일치할 경우 `이메일 인증` 버튼 텍스트를 `인증성공`으로 변경하고 비활성화 처리한다.             |                                                                                                                         |
| client-ginfo-03-02 |        |             |                                                                           | 일치하지 않을 경우 `'이메일 인증 실패'` 문구를 출력하고 `이메일 재인증`으로 텍스트를 변경한다. |                                                                                                                         |

---

## 채팅

| 기능코드       | 구분 |   기능   | 기능설명                                                          | 세부기능                                                    | 기타                   |
| :------------- | :--: | :------: | :---------------------------------------------------------------- | :---------------------------------------------------------- | :--------------------- |
| client-chat-01 |      | 정보조회 | 카테고리에 따른 분류                                              | 채팅 사용자 ID 값은 `인증된이메일`로 설정한다.              | `예약코드`로 출력한다. |
| client-chat-02 |      |   채팅   | 관리자와 1:1 채팅을 할 수 있도록 한다.                            |                                                             |                        |
| client-chat-03 |      | 채팅종료 | 채팅 페이지의 채팅 종료 버튼을 클릭 시 해당 채팅은 즉시 종료된다. | 해당 채팅을 삭제 처리하고 채팅 정보 조회 페이지로 이동한다. |                        |

---

## 관리자 기능

| 기능코드            |        구분        |       기능        | 기능 설명                                                                                          | 세부 기능                                                              | 기타                                                                                          |
| ------------------- | :----------------: | :---------------: | :------------------------------------------------------------------------------------------------- | :--------------------------------------------------------------------- | :-------------------------------------------------------------------------------------------- |
| admin-acc-01        |  관리자, 숙박업소  |    페이지 이동    | 숙박업소 관리 페이지로 이동한다.                                                                   |                                                                        |                                                                                               |
| admin-acc-02        |                    |     정보조회      |                                                                                                    |                                                                        |                                                                                               |
| admin-acc-02-01     |                    |                   | 최근날짜 기준으로 10 단위로 조회한다.                                                              | 초과 데이터는 페이징 처리한다.                                         |                                                                                               |
| admin-acc-02-02     |                    |                   |                                                                                                    | 각 항목 선택 시 상세페이지로 이동한다.                                 |                                                                                               |
| admin-acc-03        |                    |       검색        |                                                                                                    |                                                                        |                                                                                               |
| admin-acc-03-01     |                    |                   | 지역조건을 통해 검색하도록 한다.                                                                   | 지역은 선택할 수 있도록한다.                                           | select-option을 사용한다.                                                                     |
| admin-acc-03-02     |                    |                   | 숙소명으로 검색하도록 한다.                                                                        | 숙소명은 키워드로 검색되도록 한다.                                     |                                                                                               |
| admin-acc-04        |                    |    페이지 이동    | 숙박업소 정보 등록 페이지로 이동한다.                                                              |                                                                        |                                                                                               |
| admin-acc-05        |  관리자, 숙박업소  |   숙박업소 등록   | 숙박업소에 대한 기본정보를 작성 후 등록처리                                                        | 첨부파일 및 카테고리와 편의시설 정보 조회                              | 기본정보 : 카테고리, 이름, 편의시설, 위치                                                     |
| admin-acc-05-01     | 카테고리, 편의시설 |     정보조회      | 카테고리와 편의시설 정보를 조회하여 선택할 수 있도록한다.                                          |                                                                        |                                                                                               |
| admin-acc-05-02     |                    | 숙박업소 첨부파일 | 첨부파일 자체는 프로젝트 내 `assets/resources/upload/acc/숙박업소ID/` 하위에 저장한다.             | 파일명은 `'trip_o'clock_난수.확장자'` 형식으로 처리하여 저장한다.      |                                                                                               |
| admin-acc-05-03     |                    |    위치정보 값    | 지도API를 활용해서 좌표값을 구하고 해당 좌표값을 다시 API를 활용해서 주소값으로 변경하여 저장한다. |                                                                        |                                                                                               |
| admin-acc-06        |                    |     정보수정      | 숙박업소 기본 정보를 수정한다.                                                                     |                                                                        |                                                                                               |
| admin-acc-07        |                    |     정보삭제      | 숙박업소 정보를 삭제한다.                                                                          | 버튼 클릭 시 삭제여부 알림창을 통해 처리한다.                          |                                                                                               |
| admin-acc-08        |                    |     정보조회      | 객실명 기준으로 10 단위로 조회한다.                                                                | 초과 데이터는 페이징 처리한다.                                         |                                                                                               |
| admin-acc-08-01     |                    |                   |                                                                                                    | 각 항목 선택 시 상세페이지로 이동한다.                                 |                                                                                               |
| admin-acc-09        |                    |    페이지 이동    | 객실 등록 페이지로 이동한다.                                                                       |                                                                        |                                                                                               |
| admin-acc-10        |                    |     객실등록      | 객실정보를 입력받아 등록한다.                                                                      | 첨부파일                                                               | 객실 정보 : 객실명, 가격, 객실 수, 입실시간, 퇴실시간, 기준인원, 최대인원, 이용안내, 객실사진 |
| admin-acc-11        |                    |   객실 첨부파일   | 첨부파일 자체는 프로젝트 내 `assets/resources/upload/acc/숙박업소ID/객실ID/` 하위에 저장한다.      | 파일명은 `'trip_o'clock_난수.확장자'` 형식으로 처리하여 저장한다.      |                                                                                               |
| admin-acc-12        |                    |     객실수정      | 객실 전체 정보를 수정할 수 있도록 한다.                                                            |                                                                        |                                                                                               |
| admin-acc-13        |                    |     객실삭제      | 객실 정보를 삭제한다.                                                                              | 버튼 클릭 시 삭제여부 알림창을 통해 처리한다.                          |                                                                                               |
| admin-reserve-01    |    관리자, 예약    |    페이지 이동    | 예약내역 페이지로 이동한다.                                                                        |                                                                        |                                                                                               |
| admin-reserve-02    |                    |     정보조회      | 최근 날짜 기준으로 10 단위로 조회한다.                                                             | 초과 데이터는 페이징 처리한다.                                         |                                                                                               |
| admin-reserve-02-01 |                    |                   | 각 항목 선택 시 예약 상세페이지로 이동한다.                                                        | 상세페이지에서 예약 정보를 전부 출력한다.                              |                                                                                               |
| admin-reserve-03    |                    |       검색        | 조회된 데이터는 10단위로 출력하고 페이징처리한다.                                                  |                                                                        |                                                                                               |
| admin-reserve-03-01 |                    |                   | 회원이메일 키워드로 검색한다.                                                                      |                                                                        |                                                                                               |
| admin-reserve-03-02 |                    |                   | 전화번호 키워드로 검색한다.                                                                        |                                                                        |                                                                                               |
| admin-reserve-04    |                    |     예약취소      |                                                                                                    |                                                                        |                                                                                               |
| admin-reserve-04-01 |                    |                   | 해당 예약 정보를 삭제한다.                                                                         | 예약취소 버튼 클릭 시 삭제 여부 알림창을 통해 처리한다.                |                                                                                               |
| admin-reserve-04-02 |                    |                   |                                                                                                    | 삭제와 동시에 결제 취소 처리를 한다.                                   |                                                                                               |
| admin-reserve-04-03 |                    |                   |                                                                                                    | 예약취소 버튼을 비활성화 처리한다.                                     |                                                                                               |
| admin-chat-01       |    관리자, 채팅    |    페이지 이동    | 채팅 관리 페이지로 이동한다.                                                                       |                                                                        |                                                                                               |
| admin-chat-02       |                    |     정보조회      | `전체`, `예약문의`, `기타문의` 카테고리를 선택하여 목록을 조회할 수 있도록 한다.                   | 진행 중인 채팅 정보를 10 단위로 조회하고 초과데이터는 페이징 처리한다. | `전체`를 기본값으로 설정한다.                                                                 |
| admin-chat-02-01    |                    |                   |                                                                                                    | 해당 항목 클릭 시 해당 채팅 페이지로 이동한다.                         |                                                                                               |
| admin-chat-03       |                    |       검색        | 예약코드, 회원이메일, 전화번호 키워드로 검색한다.                                                  |                                                                        | 전화번호 데이터는 목록에서 출력하지 않는다.                                                   |
| admin-chat-04       |                    |       채팅        | 사용자와 1:1 채팅이 되도록 한다.                                                                   |                                                                        |                                                                                               |
| admin-chat-05       |                    |     채팅 삭제     | 삭제 버튼 클릭 시 채팅 내역이 삭제 되도록 한다.                                                    | 처리 전 알림창을 통해 삭제 여부를 판단한다.                            |                                                                                               |

---

## 숙박업소 관련 기능

## 숙박업소

| 기능코드         |      구분      |     기능     | 기능 설명                                                                             | 세부 기능                                                               | 기타 |
| :--------------- | :------------: | :----------: | :------------------------------------------------------------------------------------ | :---------------------------------------------------------------------- | :--- |
| client-acc-01    |    숙박업소    |  검색, 필터  |                                                                                       |                                                                         |      |
| client-acc-01-01 |                |              | 버튼을 클릭 시 필터조건에 맞는 정보를 조회한다.                                       |                                                                         |      |
| client-acc-01-02 |                |              | 조회된 데이터는 10단위로 출력한다.                                                    | 초과 데이터는 페이징 처리한다.                                          |      |
| client-acc-01-03 |                |              | 각 항목 선택 시 상세페이지로 이동한다.                                                |                                                                         |      |
| client-acc-02-01 |                |              |                                                                                       | 숙소유형으로 검색 필터를 정할 수 있다.                                  |      |
| client-acc-01-02 |                |              |                                                                                       | 가격으로 검색 필터를 정할 수 있다.                                      |      |
| client-acc-01-03 |                |              |                                                                                       | 편의시설로 검색 필터를 정할 수 있다.                                    |      |
| client-acc-02    |                |   정보조회   | 정보의 조건은 지역으로 분류하고 가격 높은 것을 기준으로 10 단위로 조회한다.           | 초과 데이터는 페이징 처리한다.                                          |      |
| client-acc-02-01 |                |              |                                                                                       | 항목 클릭 시 숙박업소 상세 화면로 이동한다.                             |      |
| client-acc-03    |                |   지도보기   | 카카오 지도API를 연동 하여 필터를 통해 조회된 숙박업소 정보를 지도에 마크로 표시한다. | 필터항목은 지역명, 가격, 편의시설이다.                                  |      |
| client-acc-03-01 |                |              |                                                                                       | 지역명은 라디오 타입으로 선택할 수 있도록 한다.                         |      |
| client-acc-03-02 |                |              |                                                                                       | 가격은 범위를 입력받는다.                                               |      |
| client-acc-03-03 |                |              |                                                                                       | 편의시설은 체크박스 타입으로 선택할 수 있도록 한다.                     |      |
| client-acc-04    |                | 상세정보조회 | 해당 숙박업소의 기본정보, 객실정보, 후기정보, 지도정보, 평점정보를 화면에 출력한다.   |                                                                         |      |
| client-acc-05    | 예약, 숙박업소 | 예약버튼상태 | 날짜 기준으로 데이터 처리한다.                                                        |                                                                         |      |
| client-acc-05-01 |                |              | 객실 수 데이터가 0인 경우                                                             | 해당 객실 예약 버튼 비활성화<br/>버튼 텍스트는 `예약마감`으로 변경한다. |      |
| client-acc-05-02 |                |              | 전체 객실 수 데이터가 0인 경우                                                        | 목록 페이지에서 숙소명 우측에 `객실없음` 문구를 출력한다.               |      |
| client-acc-05-03 |                |              | 객실 수 데이터가 0이 아닌 경우                                                        | 예약 버튼 활성화                                                        |      |

## 이용후기

| 기능코드            | 구분 |     기능      | 기능설명                                                                                                       | 세부기능                                                            | 기타                                                |
| ------------------- | :--: | :-----------: | :------------------------------------------------------------------------------------------------------------- | :------------------------------------------------------------------ | :-------------------------------------------------- |
| client-review-01    |      |   정보조회    | 해당 숙박업소의 이용후기 정보를 별점 높은 순 기준으로 10 단위로 조회한다.                                      | 초과 데이터는 페이징 처리한다.                                      |                                                     |
| client-review-02    |      |  페이지 이동  | 해당 숙박업소를 이용한 회원에 대한 처리                                                                        | 후기 작성 버튼 클릭 시 이용후기 작성 페이지로 이동한다.             |                                                     |
| client-review-02-01 |      |               | 해당 숙박업소를 이용하지 않은 회원에 대한 처리                                                                 | 후기 작성 버튼 클릭 시 예약할 것인지 묻는 알림창을 출력하도록 한다. |                                                     |
| client-review-02-02 |      |               | 이미 후기를 등록한 회원에 대한 처리                                                                            | 이용 후기 버튼 비활성화                                             |                                                     |
| client-review-03    |      |   후기등록    | 숙소에 대한 후기를 작성 후 등록 처리                                                                           | 첨부파일                                                            | 입력항목 : 후기 내용, 첨부파일, 별점, 공개여부 설정 |
| client-review-03-01 |      |   첨부파일    | 첨부파일 자체는 프로젝트 내 `assets/resources/upload/review/` 하위에 `숙박업소ID/YYYY/MM/DD/` 하위에 저장한다. | 파일명은 `'trip_o'clock_난수.확장자'` 형식으로 처리하여 저장한다.   |                                                     |
| client-review-04    |      | 후기등록 취소 | 후기 작성 취소 처리                                                                                            | 이전 페이지로 돌아간다. (숙박업소 상세 페이지)                      |                                                     |

## 예약/결제 기능

| 기능코드                | 구분 |    기능     | 기능 설명                                                                 | 세부 기능                                                                                      | 기타                                                                                                                                              |
| :---------------------- | :--: | :---------: | :------------------------------------------------------------------------ | :--------------------------------------------------------------------------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------ |
| client-reserve-01       | 예약 | 페이지 이동 | 예역 버튼 클릭 시 예약 페이지로 이동한다.                                 | 숙박업소 정보 및 객실정보 전달                                                                 |                                                                                                                                                   |
| client-reserve-02       |      | 데이터 처리 |                                                                           |                                                                                                |                                                                                                                                                   |
| client-reserve-02-01    |      |             | 일정은 전역상태로 받는다.                                                 | 회원의 쿠폰 정보를 조회해서 선택할 수 있도록 한다.                                             | 최소 1박으로 처리한다. select-option을 사용한다. 비회원일 경우 쿠폰 영역을 숨김 처리한다.                                                         |
| client-reserve-02-02    |      |             | 쿠폰이 있을 경우                                                          | 가격 = 가격 - 쿠폰금액                                                                         |                                                                                                                                                   |
| client-reserve-02-03    |      |             | 쿠폰이 없을 경우                                                          | 가격변동없음                                                                                   |                                                                                                                                                   |
| client-reserve-03       |      | 이메일 인증 | 인증 코드가 포함된 메일을 전송하여 코드가 일치할 경우 검사 통과 처리한다. |                                                                                                |                                                                                                                                                   |
| client-reserve-03-01    |      |             |                                                                           | 일치할 경우 `이메일 인증` 버튼 텍스트를 `인증성공`으로 변경하고 비활성화 처리한다.             |                                                                                                                                                   |
| client-reserve-03-02    |      |             |                                                                           | 일치하지 않을 경우 `'이메일 인증 실패'` 문구를 출력하고 `이메일 재인증`으로 텍스트를 변경한다. |                                                                                                                                                   |
| client-reserve-04       |      |  예약처리   | 예약 정보를 서버에 전달한다.                                              |                                                                                                | \* 예약정보<br/>`회원정보` : 회원이메일, 예약자명, 전화번호<br/>`객실정보` : 숙박업소ID, 숙박업소명, 객실명, 일정, 기준인원<br/>`결제정보` : 가격 |
| client-reserve-04-01    |      |             | Bootpay API 연동 후 결제 결과에 대한 분류                                 |                                                                                                |                                                                                                                                                   |
| client-reserve-04-01-01 |      |             | 성공                                                                      |                                                                                                |                                                                                                                                                   |
| client-reserve-04-01-02 |      |             |                                                                           | 원가의 N% 경험치 증가                                                                          | 경험치가 100 이상 시 레벨 1 증가 처리                                                                                                             |
| client-reserve-04-01-03 |      |             |                                                                           | 사용된 쿠폰 데이터 삭제                                                                        |                                                                                                                                                   |
| client-reserve-04-01-04 |      |             |                                                                           | 해당 객실 방 데이터 1 감소                                                                     |                                                                                                                                                   |
| client-reserve-04-01-04 |      |             |                                                                           | 인증된 이메일로 예약코드 값을 전송한다.                                                        | `SHA256` 라이브러리 사용                                                                                                                          |
| client-reserve-04-02    |      |             | 실패                                                                      | 실패 알림창 출력 후 상태 정보 초기화 후 숙박업소 상세 페이지로 이동한다.                       |                                                                                                                                                   |
